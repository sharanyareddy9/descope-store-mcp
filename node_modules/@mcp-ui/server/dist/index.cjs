"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c="mcpui.dev/ui-";function a(e){const t={...e.resourceProps??{}};if(e.uiMetadata||e.metadata){const n=Object.fromEntries(Object.entries(e.uiMetadata??{}).map(([r,i])=>[`${c}${r}`,i]));t._meta={...n,...e.metadata??{},...t._meta??{}}}return t}function u(e){if(typeof Buffer<"u")return Buffer.from(e,"utf-8").toString("base64");if(typeof TextEncoder<"u"&&typeof btoa<"u"){const n=new TextEncoder().encode(e);let r="";const i=8192;for(let o=0;o<n.length;o+=i)r+=String.fromCharCode(...n.slice(o,o+i));return btoa(r)}else{console.warn("MCP-UI SDK: Buffer API and TextEncoder/btoa not available. Base64 encoding might not be UTF-8 safe.");try{return btoa(e)}catch{throw new Error("MCP-UI SDK: Suitable UTF-8 to Base64 encoding method not found, and fallback btoa failed.")}}}function s(e){let t,n;if(e.content.type==="rawHtml"){if(!e.uri.startsWith("ui://"))throw new Error("MCP-UI SDK: URI must start with 'ui://' when content.type is 'rawHtml'.");if(t=e.content.htmlString,typeof t!="string")throw new Error("MCP-UI SDK: content.htmlString must be provided as a string when content.type is 'rawHtml'.");n="text/html"}else if(e.content.type==="externalUrl"){if(!e.uri.startsWith("ui://"))throw new Error("MCP-UI SDK: URI must start with 'ui://' when content.type is 'externalUrl'.");if(t=e.content.iframeUrl,typeof t!="string")throw new Error("MCP-UI SDK: content.iframeUrl must be provided as a string when content.type is 'externalUrl'.");n="text/uri-list"}else if(e.content.type==="remoteDom"){if(!e.uri.startsWith("ui://"))throw new Error("MCP-UI SDK: URI must start with 'ui://' when content.type is 'remoteDom'.");if(t=e.content.script,typeof t!="string")throw new Error("MCP-UI SDK: content.script must be provided as a string when content.type is 'remoteDom'.");n=`application/vnd.mcp-ui.remote-dom+javascript; framework=${e.content.framework}`}else{const i=e.content;throw new Error(`MCP-UI SDK: Invalid content.type specified: ${i}`)}let r;switch(e.encoding){case"text":r={uri:e.uri,mimeType:n,text:t,...a(e)};break;case"blob":r={uri:e.uri,mimeType:n,blob:u(t),...a(e)};break;default:{const i=e.encoding;throw new Error(`MCP-UI SDK: Invalid encoding type: ${i}`)}}return{type:"resource",resource:r}}function l(e){window.parent&&window.parent.postMessage(e,"*")}const d={UI_MESSAGE_RECEIVED:"ui-message-received",UI_MESSAGE_RESPONSE:"ui-message-response",UI_SIZE_CHANGE:"ui-size-change",UI_LIFECYCLE_IFRAME_READY:"ui-lifecycle-iframe-ready",UI_LIFECYCLE_IFRAME_RENDER_DATA:"ui-lifecycle-iframe-render-data"},f={WAIT_FOR_RENDER_DATA:"waitForRenderData"};function m(e,t){return{type:"tool",payload:{toolName:e,params:t}}}function w(e){return{type:"prompt",payload:{prompt:e}}}function y(e){return{type:"link",payload:{url:e}}}function I(e,t){return{type:"intent",payload:{intent:e,params:t}}}function E(e){return{type:"notify",payload:{message:e}}}exports.InternalMessageType=d;exports.ReservedUrlParams=f;exports.createUIResource=s;exports.postUIActionResult=l;exports.uiActionResultIntent=I;exports.uiActionResultLink=y;exports.uiActionResultNotification=E;exports.uiActionResultPrompt=w;exports.uiActionResultToolCall=m;
//# sourceMappingURL=index.cjs.map
